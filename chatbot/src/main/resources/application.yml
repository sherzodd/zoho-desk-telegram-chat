spring:
  application:
    name: telegram-zoho-desk

  datasource:
    url: jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${DB_NAME:telegramdesk}
    username: ${DB_USER:postgres}
    password: ${DB_PASS:postgres}
    driver-class-name: org.postgresql.Driver

  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.PostgreSQLDialect
    open-in-view: false

  data:
    redis:
      host: ${REDIS_HOST:localhost}
      port: ${REDIS_PORT:6379}
      timeout: 60000
      jedis:
        pool:
          max-active: 8
          max-idle: 8
          min-idle: 0

server:
  port: ${SERVER_PORT:8080}
  tomcat:
    basedir: ${java.io.tmpdir}/tomcat
  error:
    include-message: always
    include-stacktrace: on_param

logging:
  level:
    com.company.telegramdesk: DEBUG
    org.springframework.web: INFO
    org.hibernate.SQL: DEBUG
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE

telegram:
  bot-token: ${TELEGRAM_BOT_TOKEN}
  webhook-url: ${APP_URL}/webhook/telegram
  webhook:
    auto-register: ${TELEGRAM_WEBHOOK_AUTO_REGISTER:false}

zoho:
  org-id: ${ZOHO_ORG_ID}
  client-id: ${ZOHO_CLIENT_ID}
  client-secret: ${ZOHO_CLIENT_SECRET}
  refresh-token: ${ZOHO_REFRESH_TOKEN}
  api-domain: ${ZOHO_API_DOMAIN:https://desk.zoho.com}

conversation:
  cleanup:
    enabled: ${CONVERSATION_CLEANUP_ENABLED:true}
    retention-days: ${CONVERSATION_RETENTION_DAYS:7}
    cron: ${CONVERSATION_CLEANUP_CRON:0 0 2 * * ?}  # Daily at 2 AM
